<!DOCTYPE html>
 
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width,initial-scale=1">
        <title>Picturefill - Demo</title>

        <script>
                document.createElement( "picture" );
        </script>

</head>
<body>
   <script  src="../pages/thirdpart/picturefill.js"></script>
    <p>Here's how that renders in the browser. Feel free to resize to see it change.</p>


    <div id="PicturefillDemoPanelTool" >
        <a class="easyui-linkbutton" iconCls="icon-undo" plain="false">缩小</a>
        <a class="easyui-linkbutton" iconCls="icon-redo" plain="false">放大</a>
   </div>
    
   <div id="PicturefillDemoPanel" class="easyui-panel" data-options="fit:false">
        <img stype="width:100%;height:100%;" sizes="(min-width: 40em) 80vw, 100vw" srcset="../pages/thirdpart/picturefill/medium.jpg 375w, .../pages/thirdpart/picturefill/large.jpg 480w, ../pages/thirdpart/picturefill/extralarge.jpg 768w" alt="A giant stone face at The Bayon temple in Angkor Thom, Cambodia">
        </img>
    </div>

    <script type="text/javascript"> 
          $(document).ready(function() {
            var width=$("#PicturefillDemoPanel img").prop('width');
            var height=$("#PicturefillDemoPanel img").prop('height');
            
            setTimeout(function(){
                doSize(width,height);
            },500);

            function doSize(_width,_height){
                $("#PicturefillDemoPanel").panel('resize',{
                        width: _width,  height: _height
                });
//                $("#PicturefillDemoPanel img").attr('width',_width-2);
//                $("#PicturefillDemoPanel img").attr('height', _height-2);
                picturefill({ reevaluate: true });  // or indow.picturefill();
            }
            
            $("#PicturefillDemoPanelTool a[iconCls='icon-undo']").on("click",function() {
                if(width<50){
                    return;
                }
                width /=1.2;
                height /=1.2; 
                doSize(width,height);
            });
                
            $("#PicturefillDemoPanelTool a[iconCls='icon-redo']").on("click",function() {
                if(width>5000){
                    return;
                }
                width *=1.2;
                height *=1.2; 
                doSize(width,height);
            });

    });
    
    
    </script>
</body></html>